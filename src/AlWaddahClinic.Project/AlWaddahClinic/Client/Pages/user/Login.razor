@page "/user/login"
@layout EmptyLayout

@{
    if (!string.IsNullOrEmpty(_errorMessage))
    {
        <MudAlert Severity="Severity.Error" Variant="Variant.Filled" style="padding: 1rem;">@_errorMessage!</MudAlert>   
    }
}

<MudGrid
    style="width: 100vw; height: 100vh; background-color: #334F69;">
    <MudItem Class="d-flex justify-center align-center mud-width-full">
        <MudCard style="width: 75%; padding: 2.5rem;">
            <MudIcon Icon="@Icons.Material.Filled.Person" Size="Size.Large" Color="Color.Dark" />
            <MudText Typo="Typo.h4" Class="mb-5"><b>Login to your account</b></MudText>
            <MudDivider/>


            <EditForm Model="model" OnValidSubmit="LoginUser">
                <DataAnnotationsValidator />
                <ValidationSummary style="color: red;" />
                <MudTextField T="string" Label="Email Address" InputType="InputType.Email" @bind-Value="model.Email"
                    Class="mb-3 mt-2" />

                <MudTextField T="string" Label="Password" InputType="InputType.Password" @bind-Value="model.Password"
                    Class="mb-5" />

                <MudButton Class="mt-3" Disabled="@_isBusy" Variant="Variant.Filled" Color="Color.Primary"
                    ButtonType="ButtonType.Submit">Login
                </MudButton>
            </EditForm>
        </MudCard>
    </MudItem>
</MudGrid>
